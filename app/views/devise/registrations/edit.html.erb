<!--<h2>Edit <%#= resource_name.to_s.humanize %></h2>-->

<%#= simple_form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
  <%#= f.error_notification %>

<!--  <div class="form-inputs">-->
    <%#= f.input :email, required: true, autofocus: true %>

    <%# if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
<!--      <p>Currently waiting confirmation for: <%#= resource.unconfirmed_email %></p>-->
    <%# end %>


<!--  <div class="form-actions">-->
    <%#= f.button :submit, "Update" %>
<!--  </div>-->
<%# end %>

<!--<h3>Cancel my account</h3>-->

<!--<p>Unhappy? <%#= link_to "Cancel my account", registration_path(resource_name), data: { confirm: "Are you sure?" }, method: :delete %></p>-->

<%#= link_to "Back", :back %>
<%= render 'shared/customer/header' %>
<main class="customer">
  <article class="container py-4 px-0">
    <div class="row justify-content-center">
      <div class="col-8 mb-5">
        <div class="card">
          <div class="card-header bg-white">
            <span class="font-weight-bold font-16 color-ba10">アカウント</span>
          </div>
          <div class="card-body">

            <h3 class="card-title font-weight-bold font-16 color-ba10">基本情報</h3>
            <%= simple_form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put, class: "border-top h-adr order" }) do |f| %>
              <%= f.error_notification %>
              <% resource.errors.full_messages.each do |message| %>
                <li><%= message %></li>
              <% end %>
              <%= f.fields_for :company do |ff| %>
                <div class="row pt-3">
                  <div class="col-auto">
                    <h3 class="card-title font-weight-bold font-14 color-ba10">所属</h3>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                    <label for="companyName" class="form-label">法人名</label>
                    <div id="companyName" class="form-control border-0"><%= resource.company.name %></div>
                  </div>
                  <div class="col-md-6">
                    <label for="facilityName" class="form-label">施設名</label>
                    <div id="facilityName" class="form-control border-0"><%= resource.company.facility_name %></div>
                  </div>
                </div>


                <div class="row pt-3">
                  <span class="p-country-name" style="display:none;">Japan</span>
                  <div class="form-group col-6">
                    <label for="postalCode">郵便番号</label>
                    <div id="ZipForEditUserForm" zip="<%= resource.company.zip %>"></div>
<!--                    <div class="input-group mb-3">-->
                      <%#= ff.input :zip, label: false, input_html: { class: "form-control" } %>
<!--                      <input class="form-control p-postal-code" size="8" maxlength="8" id="postalCode" name="postalCode" type="tel" placeholder="郵便番号を入力" value="{{postalCode}}">-->
<!--                      <button class="btn btn-outline-secondary p-postal-code-find" type="button" id="button-addon2">検索</button>-->
<!--                    </div>-->
                  </div>
                  <div class="form-group col-6">
                    <label for="region">都道府県</label>
                    <div id="PrefectureForEditUserForm" prefecture="<%= resource.company.prefecture %>"></div>
                  </div>
                  <div class="form-group col-6">
                    <label for="locality">市区町村</label>
                    <%= ff.input :city, label: false, input_html: { class: "form-control p-locality" } %>
                  </div>
                  <div class="form-group col-6">
                    <label for="street">町名/番地</label>
                    <%= ff.input :street, label: false, input_html: { class: "form-control p-street-address" } %>
<!--                    <input class="form-control p-street-address" id="street" name="street" type="tel" placeholder="郵便番号を入力" value="{{street}}">-->
                  </div>
                  <div class="form-group col-12 pt-2">
                    <label for="address">建物名</label>
                    <%= ff.input :building, label: false, input_html: { class: "form-control" } %>
<!--                    <input class="form-control" id="address p-extended-address" name="address" type="tel" placeholder="郵便番号を入力" value="{{address}}">-->
                  </div>
                </div>

                :zip, :prefecture, :city, :street, :building, :tel

                <div class="row pt-3">
                  <div class="col-auto">
                    <h3 class="card-title font-weight-bold font-14 color-ba10">プロフィール</h3>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                    <label for="userName" class="form-label">ご担当者名</label>
                    <%= ff.input :person_in_charge_name, input_html: { class: "form-control" } %>
                  </div>
                  <div class="col-md-6">
                    <label for="userNamePhoneticName" class="form-label">ご担当者名（カタカナ）</label>
                    <%= ff.input :person_in_charge_name_kana, input_html: { class: "form-control" } %>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                    <label for="phone" class="form-label">連絡先電話番号</label>
                    <%= ff.input :tel, label: false, input_html: { class: "form-control" } %>
                  </div>
              <% end %>


                <div class="col-md-6">
                  <label for="facilityName" class="form-label">メールアドレス</label>
                  <div id="facilityName" class="form-control border-0"><%= resource.email %></div>
                </div>
              </div>
              <div class="row pt-3">
                <div class="col-auto">
                  <h3 class="card-title font-weight-bold font-14 color-ba10">パスワード</h3>
                </div>
              </div>
              <div class="row">
                <div class="col-auto">
                  <span class="font-weight-normal font-14 color-ba08">パスワード変更したい方は</span>
                  <a class="clink" href="{{catalogHomeUri}}/forgotPassword">こちら</a>
                </div>
              </div>
              <div class="row pt-2">
                <div class="col-auto">
                  <input type="hidden" name="_csrf" value="{{csrfToken}}">
                  <input type="hidden" name="key" value="{{key}}">
                  <button type="submit" class="btn btn-cprimary font-14 py-3 px-4 font-weight-bold text-white">
                    <span class="">変更を保存する</span>
                  </button>
                </div>
              </div>

            <% end %>
            <div class="mt-3">
              <%= link_to t('devise.logout'), destroy_user_session_path, method: 'delete', class: 'btn btn-cprimary font-14 py-3 px-4 font-weight-bold text-white' %>
            </div>
          </div>

          <div class="card-body">
            <h3 class="card-title font-weight-bold font-16 color-ba10">基本情報</h3>
            <div class="row pt-2 border-top">
              <div class="col-12">
                <span class="font-weight-normal font-14 color-ba08">ご利用中のプラン</span>
              </div>
              <div class="col-12 pt-2">
                <span class="font-weight-normal font-14 color-ba10"> 定期プラン</span>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>
  </article>
</main>

<!--<script src="https://yubinbango.github.io/yubinbango/yubinbango.js" charset="UTF-8"></script>-->
